<?xml version="1.0" encoding="UTF-8"?>
<phpunit
  bootstrap="phpunit.bootstrap.php"
  cacheResult="false"
  colors="true"
  stopOnFailure="false"
  failOnWarning="true"
  failOnRisky="true"
  beStrictAboutOutputDuringTests="true"
  failOnDeprecation="false"
  failOnPhpunitDeprecation="false"
  displayDetailsOnTestsThatTriggerDeprecations="true"
  displayDetailsOnSkippedTests="true"
>
  <testsuites>
    <testsuite name="DB Integration">
      <directory>Integration</directory>
      <directory>Contract</directory>
      <directory>Performance</directory>
      <directory>Consistency</directory>
      <directory>Unit</directory>
      <directory>Concurrency</directory>
      <directory>Umbrella</directory>
    </testsuite>
  </testsuites>
  <php>
    <!-- defaulty lze přepsat env proměnnami v CI / lokálně -->
    <env name="BC_DB" value="mysql"/>
    <env name="MYSQL_DSN"  value="mysql:host=127.0.0.1;port=3306;dbname=test;charset=utf8mb4"/>
    <env name="MYSQL_USER" value="root"/>
    <env name="MYSQL_PASS" value="root"/>

    <env name="PG_DSN"  value="pgsql:host=127.0.0.1;port=5432;dbname=test"/>
    <env name="PG_USER" value="postgres"/>
    <env name="PG_PASS" value="postgres"/>

    <!-- zapni pro těžší testy (bulk 10k apod.) -->
    <env name="BC_STRESS" value="0"/>
  </php>
</phpunit>
